{% extends "base.html" %} 

{% block title %}{{channel.name}}{% endblock %} 

{% block content %} 

{% load tailwind_filters %}
{% load static %}

<div class="flex justify-center">
  <div class="w-1/3">
    <h1 class="text-2xl">{{channel.name}}</h1>
    <div>
      <h3 class="text-lg">Create a post:</h3>
      <form
        action="{% url 'seenit:channel-detail' pk=channel_id %}"
        method="POST"
      >
        {% csrf_token %} {{ form|crispy }}
        <button class="bg-green-500 py-2 px-4 rounded">Post</button>
      </form>
    </div>
    <div class="post-container">
    {% for post in channel.posts.all %}
    <div class="border border-black my-3">
      <div class="flex">
        {% include "rating_base.html" with rating=post.rating postType="post" postId=post.id %}
    <a href="{% url 'seenit:post-detail' pk=post.id channel_id=channel_id%}">
    <div class="px-4">
      <p class="text-xs">Posted by {{post.user.username}}</p>
      <h4 class="text-gray-500 text-lg">{{ post.title }}</h4>
    </div>
  </div>
</div>
</a>

{% endfor %}
</div>
</div>
</div>

<script src="{% static 'app.js' %}"></script>
{% endblock %}
